<style>
    /* --- Header CSS --- */
    .site-header {
        position: sticky; 
        top: 0; left: 0;
        width: 100%;
        height: 80px; 
        padding: 0 24px;
        background-color: transparent; 
        border-bottom: none; 
        box-shadow: none;
        display: flex; align-items: center; justify-content: space-between;
        box-sizing: border-box;
        z-index: 9999; 
        pointer-events: auto !important;
        padding-top: env(safe-area-inset-top);
        height: calc(80px + env(safe-area-inset-top));
    }

    .site-header a, .site-header button { 
        pointer-events: auto !important; 
        text-decoration: none !important; 
    }

    /* Logo */
    .header-logo {
        display: flex; align-items: center; text-decoration: none; height: 100%; cursor: pointer;
        z-index: 10002;
    }
    .header-logo img {
        height: 40px; width: auto; object-fit: contain; display: block;
    }

    /* Desktop Nav */
    .desktop-nav { display: flex; align-items: center; gap: 40px; }
    .nav-item {
        color: #555 !important; font-weight: 600; font-size: 16px; cursor: pointer;
        position: relative; transition: color 0.2s; display: flex; align-items: center;
        font-family: 'Outfit', sans-serif;
    }
    .nav-item:hover { color: #0056D2 !important; }

    /* Dropdown */
    .dropdown { position: relative; height: 100%; display: flex; align-items: center; }
    .dropdown-content {
        display: none; position: absolute; top: 100%; right: 0; margin-top: 10px;
        background-color: #fff; min-width: 200px;
        border: none; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        border-radius: 12px; padding: 8px; overflow: visible; z-index: 10003;
    }
    .dropdown-content::before {
        content: ''; position: absolute; top: -20px; left: 0; width: 100%; height: 20px;
    }
    .dropdown:hover .dropdown-content { display: block; animation: fadeIn 0.2s ease-in-out; }
    .dropdown-content a {
        color: #333 !important; padding: 12px 16px; display: block; font-size: 15px;
        transition: background 0.1s; text-align: left; border-radius: 8px;
    }
    .dropdown-content a:hover { background-color: #F5F7FA; color: #0056D2 !important; }

    /* Mobile Menu Btn */
    /* Mobile Menu Btn */
    .mobile-menu-btn {
        display: none; 
        cursor: pointer;
        width: 44px; height: 44px; 
        padding: 0;
        align-items: center; justify-content: flex-end;
        background-color: transparent; border: none;
        color: #0056D2; 
        outline: none; 
        
        /* ★ 新增：圓角設定 ★ */
        border-radius: 12px; /* 12px 是個不錯的數值，配合整體風格 */
        
        transition: transform 0.2s, color 0.2s, background-color 0.2s; /* 增加背景色過渡 */
        z-index: 10005;
        pointer-events: auto !important; 
    }
    
    /* 點擊時增加一點背景反饋，讓圓角更明顯 */
    .mobile-menu-btn:active { 
        transform: scale(0.9); 
        background-color: rgba(0, 86, 210, 0.05); /* 淡淡的藍色背景 */
    }
    .mobile-menu-btn .material-icons { font-size: 32px; }
    .mobile-menu-btn.white { color: #fff !important; }

    /* Menu Backdrop */
    .menu-backdrop {
        position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
        background: rgba(0, 0, 0, 0.4);
        z-index: 10003;
        opacity: 0; pointer-events: none;
        transition: opacity 0.3s ease;
        backdrop-filter: blur(2px);
    }
    .menu-backdrop.open { opacity: 1; pointer-events: auto; }

    /* Mobile Drawer */
    .mobile-nav-drawer {
        position: fixed; top: 0; right: 0; width: 75%; max-width: 320px; height: 100vh;
        background: #0056D2; z-index: 10004;
        transform: translateX(100%);
        visibility: hidden; box-shadow: none;
        transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), visibility 0s linear 0.35s;
        padding-top: 100px; display: flex; flex-direction: column;
        pointer-events: auto;
    }
    .mobile-nav-drawer.open { 
        transform: translateX(0); visibility: visible; 
        box-shadow: -10px 0 30px rgba(0,86,210,0.4);
        transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1), visibility 0s linear 0s;
    }

    .drawer-group-title {
        padding: 24px 32px 12px 32px; color: rgba(255,255,255,0.6);
        font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;
        font-family: 'Outfit', sans-serif;
    }
    .drawer-item {
        padding: 16px 32px; text-decoration: none !important; color: #fff !important; 
        font-size: 18px; font-weight: 600; display: flex; align-items: center; transition: background 0.1s;
    }
    .drawer-item:active { background: rgba(255,255,255,0.1); }
    .drawer-item.sub { padding-left: 32px; font-weight: 500; color: rgba(255, 255, 255, 0.9) !important; }
    .drawer-divider { height: 1px; background: rgba(255,255,255,0.2); margin: 10px 20px; }

    @media (max-width: 768px) {
        .desktop-nav { display: none; }
        .mobile-menu-btn { display: flex; } 
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
</style>

<header class="site-header" id="siteHeader">
    <!-- 1. Logo: 加上判斷式 -->
    <a href="https://learn-kits.github.io/vocab7000" onclick="if(window.resetToHome) { resetToHome(event); return false; }" class="header-logo">
        <img src="image/learnkits_logo.png" alt="LearnKits">
    </a>
    
    <nav class="desktop-nav">
        <div class="dropdown">
            <span class="nav-item">
                Resources <span class="material-icons" style="font-size: 20px; margin-left: 4px;">expand_more</span>
            </span>
            <div class="dropdown-content">
                <!-- 2. 下拉選單: 加上判斷式 -->
                <a href="https://learn-kits.github.io/vocab7000" onclick="if(window.resetToHome) { resetToHome(event); return false; }">Vocabulary 7000</a>
            </div>
        </div>
        <a href="https://learn-kits.github.io/about" class="nav-item">About</a>
    </nav>
    
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
        <span class="material-icons">grid_view</span>
    </button>
</header>

<div class="menu-backdrop" id="menuBackdrop" onclick="toggleMobileMenu()"></div>

<div class="mobile-nav-drawer" id="mobileNav">
    <div class="drawer-group-title">Resources</div>
    <!-- 3. 手機版選單: 加上判斷式 -->
    <a href="https://learn-kits.github.io/vocab7000" onclick="if(window.resetToHome) { resetToHome(event); return false; }" class="drawer-item sub">Vocabulary 7000</a>
    
    <div class="drawer-divider"></div>
    <a href="https://learn-kits.github.io/about" class="drawer-item">About LearnKits</a>
</div>

